---
description: 코드스쿼드 코드 리뷰어 활동간 리뷰이들에게 전달한 내용입니다.
---

# 코드 리뷰를 진행하기에 앞서..

{% hint style="info" %}
개발에 대한 생각은 리뷰어들마다 심지어 호눅스와도 미묘하게 다릅니다. \
아래는 지극히 개인적인 관점과 경험에서 작성한 내용이기에 그대로 수용하기 보다는\
최대한 다양한 의견을 듣고 본인에 맞는 피드백을 선별하시기를 권장합니다.
{% endhint %}

### REST API 설계를 어느 수준으로 해야될까

#### 완벽한 RESTful API는 없다.

* RESTful한 API 설계는 클라이언트에게 자유도를 주기에 유연한 개발을 할 수 있습니다.
* 하지만 리얼 월드에는 RESTful하지 않은 API가 더 많습니다.
  * OpenApi인 경우 사용 편의성을 위해 의도적으로 RESTful하지 않게 만드는 경우도 있습니다.
  * 토스 결제 API를 보면 수 많은 응답 코드 중에 **400, 401, 403**만 사용합니다.

{% embed url="http://haah.kr/2017/06/12/rest-the-big-lie/" %}

* 토스ㅣSLASH 21 - 결제 시스템의 SDK와 API 디자인
  * [https://www.youtube.com/watch?v=E4\_0WWqmF3M](https://www.youtube.com/watch?v=E4\_0WWqmF3M)

#### 그렇지만 공부는 해야합니다.

* 가장 보편적이고 기초가 되는 API 설계 방법이기 때문입니다.

{% embed url="http://www.yes24.com/Product/Goods/94462254" %}



### 예외처리는 어떻게 할까?

* try-catch문의 catch문을 의미있게 활용해주세요.
  * catch문에 log만 남기는 것은 적절한 활용이 아닙니다.
* CustomException을 만들었다면 그것에 적합한 테스트를 만들어 주세요.
  * 적절한 테스트를 만들 수 없다면 어쩌면 무의미한 CustomException일 수 있습니다.



### 커밋 메세지를 어떻게 써야할까?

{% embed url="https://udacity.github.io/git-styleguide/" %}

* **유다시티 커밋 가이드**에 따르면 type을 나누고 suject와 body, footer를 작성하라고 합니다.
* 하지만 커밋을 잘 써야 되는 목적을 생각하면 **수정 개발시 참고를 위한 트래킹** 때문이라고 생각합니다.
* intellij의 git blame plugin으로 예를 들면
  * 커밋의 subject만 보이며 body까지 보려면 history를 봐야되기에 쉽지 않습니다.
  * 따라서 subject만으로 이해가 가능한 커밋이 좋은 커밋이라고 생각합니다.

```
// issue 번호를 커밋 메시지 앞에 기록
#40 일반 유저 동적 쿼리 추가 

// jira issue 번호를 커밋 메시지 앞에 기록
PLATDEV-974 s3 다운로드 기능 구현 

// type을 이모지로 표현
✨ MemberWIthDynamicUpdate 구현
```



### 클린 코드를 고민할수록 좋은 코드가 나옵니다.

#### local branch에서는 정리되지 않은 커밋이 많아도 좋습니다.

* 오히려 다양한 시도를 해볼 수 있고 필요한 시점으로 돌아가기 쉽습니다.
* remote branch에 올릴 때 squash, rebase로 정리하면 됩니다.

#### 구조화는 점진적으로 하는 것을 추천합니다.

* 박재성님의 TDD 강의를 보면 최소한의 기능을 만들고 로직을 붙여 나갑니다.
* 절차지향적일지라도 일단 큰 로직을 만들고 메서드로 분리합니다.
  * intellij의 리팩토링 기능은 강력합니다.
* 이런 과정으로 충분히 작아진 기능은
  * 이동시키기가 쉬워져 긴가민가한 경우를 직접 테스트 해볼 수 있습니다.
  * 나아가 함수형 프로그래밍 적용이 가능합니다.

#### 과한 구조화는 독이 될 수 있습니다.

* 구조화된 코드는 변경에 유연합니다.
  * 하지만 좋은 구조화를 위해서는 패턴과 네이밍의 깊은 고민이 필요합니다.
  * 그리고 아무리 좋은 구조라도 하나의 메서드보다 가독성이 좋기는 힘듭니다.
* 실무에서도 짧은 기간이나 팀 코딩 컨벤션에 따라 의도적으로 구조화하지 않는 경우도 있습니다.
* 즉 기간이 한정되어 있고 요구 사항 변경이 적은 지금의 프로젝트 성격에서는 선택과 집중이 필요할 수 있습니다.



### 통합 테스트에 집중 해주세요.

* 단위 테스트를 잘 만들기 위해서는 구조화와 mock/stub에 대한 학습이 필요합니다.
  * 하지만 이것은 굳이 지금 수준에 중요한 것이 아니라고 생각합니다.
* 그럼에도 불구하고 공부하고 싶다면 아래 책을 보시면 됩니다.

{% embed url="http://www.yes24.com/Product/Goods/104084175" %}



### 리뷰 진행

#### 작성된 리뷰에 리뷰어를 할당해주세요.

* 저는 email 알림을 걸어놓기에 할당된 이슈는 거의 누락이 없습니다.

#### 리뷰를 원하는 포인트를 본문에 적지말고 해당 코드에 핀포인트로 기록해주세요.

* 작성 의도가 명확할 때 좋은 리뷰가 나옵니다.&#x20;
* 좋은 질문을 하는 법과 같은 맥락입니다.

#### PR 리뷰 상태를 적절히 이용해주세요.

* Changes requested
  * 머지하기에 적합하지 않음.
* Approved
  * 리뷰어는 머지를 승인했음으로 작성자가 최종 확인 후 머지 진행.
* 예외
  * 정기 머지 마감 시간이 지난 경우 리뷰어가 강제 머지합니다.
    * 목요일 10시, 일요일 17시
  * 일부 누락된 대화는 차후 진행합니다.

#### 기타

* 리뷰는 주 2회가 아니어도 좋습니다. 가능한 작은 단위로 자주 리뷰를 보내주시면 좋습니다.
* 모든 리뷰 사항을 적용할 필요는 없습니다. 절반만 적용해도 훌륭합니다.
